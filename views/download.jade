article.ch-g3-4
	.leftcolumn
		h1
			| Download
		p.updated
			| Current version: v#{latest.version}

		form.ch-form#download(action="/download", method="POST")
			fieldset
				legend 1. Select your widgets
				#widgets.ch-form-options
					
					- // TODO: Migrate to PARTIALS
					
					- // List of each widget
					- var w = [];
					- // It's return a widget with DOM template
					- var render = function (label) { return "<li class=\"ch-form-row\"><input type=\"checkbox\" id=\"w_" + label + "\" value=\"" + label + "\" name=\"widgets\" checked /><label for=\"w_" + label + "\">" + label + "</label></li>"; };
					- // Add Widgets to "w" array
					- each widget in widgets
						- if (widget.label !== "Css Library")
							- w.push(render(widget.label));
					- var result = [], tpl = "<ul class=\"ch-g1-3\">";
					- var cols = 3, len = w.length, itemsPerColumn = Math.ceil(len / cols);
					- // Splice widgets lists per column
					- for (var i = 0; i < cols; i += 1)
						- result.push(w.splice(0, itemsPerColumn).join(""));
					- // Join widgets
					- result = tpl + result.join("</ul>" + tpl) + "</ul>";
					!= result
				input(type="hidden", name="totalWidgets", value="#{len}")
			fieldset
				legend 2. Select the compression level
				ul.ch-form-options#compression
					li.ch-form-row
						input#prod(type="checkbox", value="prod", name="compression", checked)
						label(for="prod") Production (Minified)
					li.ch-form-row
						input#dev(type="checkbox", value="dev", name="compression", checked)
						label(for="dev") Development (Uncompressed)
			fieldset
				legend 3. Include some extras
				ul.ch-form-options#extras
					li.ch-form-row.ch-g1-3
						input#mesh(type="checkbox", value="mesh", name="extras", checked)
						label#meshLayer(for="mesh")
							| Chico Mesh
							.ch-ico.ch-help
					li.ch-form-row.ch-g1-3
						input#api(type="checkbox", value="api", name="extras", disabled)
						label(for="api")
							| Documentation
							small (soon)
			fieldset
				legend 4. Get the package
				input.ch-btn.ch-primary(type="submit", value="Download", style="margin-left:20px")

nav.ch-g1-4
	.rightcolumn
		h4 Visual Studio
		p
			| To get the 
			a(href="http://nuget.org/packages/Chico-UI", target="_blank") Nuget package
			|  for VS, run this code in the
			a(href="http://docs.nuget.org/docs/start-here/using-the-package-manager-console", target="_blank") PM Console
			| :
		pre.terminal PM> Install-Package Chico-UI
		p.updated
			| Thanks to Emmanuel Larrieux 
			a(href="https://twitter.com/#!/avataruy", target="_blank") @avataruy
			| .

		h4 Older versions
		ul#versions.ch-menu
			- each item, i in versions
				- if (i > 0 && i < 9)
					li 
						span #{item.version}
						ul
							- each file in item.files
								- if (file.label !== ".DS_Store")
									li
										a(href="#{file.href}") #{file.label}

- script("code", '$("#versions").accordion({"selected":1});')
- script("code", '$("#widgets,#compression").required("Choose at least one.");')
- script("code", '$("#meshLayer").layer({"points":"lt rt","offset":"10 -10","width":"300px","content":"<p>Solution for fast and simple layouts. <a href=\'/mesh\' target=\'_blank\'>See more</a>.</p>"});')
